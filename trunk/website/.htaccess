<IfModule mod_rewrite.c>
	Options +FollowSymLinks
	Options +Indexes
	RewriteEngine On
	
	
	RewriteRule ^/settings/([^.]*)/ /inc/handle.settings.php?page=$1&type=settings [L,QSA]
	RewriteRule ^settings/([^.]*)/ /inc/handle.settings.php?page=$1&type= [L,QSA]
	RewriteRule ^/manage/([^.]*)/ /inc/handle.manage.php?page=$1&type=settings [L,QSA]
	RewriteRule ^manage/([^.]*)/ /inc/handle.manage.php?page=$1&type= [L,QSA]
	
	RewriteRule ^search/([^.]*)/([^/]*)$ /search/index.php?type=$1&type=$2 [L,QSA]
	
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteCond %{REQUEST_FILENAME}\.php -f 
	RewriteRule ^(.*)([^/]*)$ $1.php [QSA]
		
	# page rewrites
	
	RewriteRule ^developers/ api.php
	RewriteRule ^intro/ about.php
	RewriteRule ^login/ login.php
	RewriteRule ^signup/ register.php
	RewriteRule ^terms/ terms.php
	RewriteRule ^todo/ todo.php
	RewriteRule ^contest/ contest.php
	RewriteRule ^characters characters.php
	RewriteRule ^team/ team.php
	RewriteRule ^support/ /actions/support_email.php
	
	# image / ranking rewrites
	
	RewriteRule ^card/([^\./]*) /actions/character_image.php?name=$1 [L,QSA]
	RewriteRule ^avatar/([^\./]*) /actions/character_avatar.php?name=$1 [L,QSA]
	RewriteRule ^ignavatar/([^\./]*) /actions/character_avatar.php?name=$1&show_name [L,QSA]
	RewriteRule ^infopic/([^\./]*) /actions/character_stats.php?name=$1 [L,QSA]
	
	# character / player rewrites
	RewriteRule ^player/([^/]*)$ /components/character.php?name=$1
	
</IfModule>

Options -Indexes

ErrorDocument 400 /actions/error/index.php
ErrorDocument 401 /actions/error/index.php
ErrorDocument 403 /actions/error/index.php
ErrorDocument 404 /actions/error/index.php
ErrorDocument 500 /actions/error/index.php